<h1 align="center">
  <img src="./assets/band-7/icon.png" alt="App logo">
  <br>
  FediClient
</h1>
<h3 align="center">
  Open-source Mastodon client for Amazfit ZeppOS
</h3>

<b>Features:</b>
<ul>
  <li>Supports Mastodon API (/Sharkey) (Misskey support planned)</li>
  <li>Viewing timelines (Local/Public/Home)</li>
  <li>Viewing posts/post replies</li>
  <li>Profile pictures (dynamically generated tga; loaded asynchronously)</li>
  <li>Viewing post image attachments</li>
  <li>Viewing user profiles</li>
  <li>Posting (with a t-9 style keyboard)</li>
  <li>Authentication (optional, OAuth)</li>
  <li>Localization</li>
</ul>

<h2>Supported devices</h2>
<ul>
  <li>Amazfit Band 7 (Zepp OS 1.0)</li>
</ul>
(PRs welcome)

<!-- <h6>*Currently, only Amazfit Band 7 is officially supported, PRs welcome.</h6> -->
<h2>Screenshots</h2>
<span>
  <img src=".assets/zepp_screenshot_1717273008093.png" alt="Main menu sceenshot"><!--
-->&nbsp;&nbsp;<!--
--><img src=".assets/zepp_screenshot_1717272801057.png" alt="Timeline screenshot 1"><!--
-->&nbsp;&nbsp;<!--
--><img src=".assets/zepp_screenshot_1717272729052.png" alt="Timeline screenshot 2">
</span>
<br>
<img src=".assets/qemu-system-arm.gif" alt="">
<p>
(Screenshots may be out of date)
</p>

<h2>Install (on a real device)</h2>

Prerequisites:
<ul>
  <li>Make sure your device is supported (check the list above)</li>
  <li><a href="https://docs.zepp.com/docs/1.0/guides/tools/zepp-app/#developer-mode-opening-method">Activate the Developer Mode is in the Zepp app (click for guide)</a></li>
  <li>Install Node.js/npm</li>
  <li>Install <code>zeus</code> (<code>npm i @zeppos/zeus-cli -g</code>)</li>
</ul>

<p>
  Warning: Make sure <code>DEPLOYMENT_TYPE</code> is set to <code>"real"</code> in configuration.js.<br>
  (Optional) Some options can only be changed at compile-time, check/modify <code>configuration.js</code> as needed
</p>

Build and install from source:

<h3>Using preview/QR-code:</h3>

<ol>
  <li>
    Run <code>zeus preview</code> in the project directory
    <ul>
      <li>
        If prompted, select your device from the list
      </li>
      <li>
        This should build the application, upload it and generate a temporary QR code
      </li>
    </ul>
  </li>
  <li>
    Open the Zepp App on your phone
  </li>
  <li>
    Go to "Profile" -> "My devices" -> (tap on your device) -> "Developer Mode"
  </li>
  <li>
    Switch to the "Mini Program" tab and tap the Plus (+) icon in the top-right corner
  </li>
  <li>
    Select the "Scan" option and scan the QR code generated by <code>zeus</code> (step 1)
    <ul>
      <li>If you're unable to scan the QR code using your camera, use the "Open G..." button (in the top-right corner, on the "Scan" screen) to select a screenshot of the code instead</li>
    </ul>
  </li>
</ol>

<h3>Using the bridge mode:</h3>

<ol>
  <li>
    Run <code>zeus login</code> and follow the on-screen instructions.
    <ul>
      <li>Make sure to use the same Zepp account as in the Zepp app on your phone.</li>
      <li>If you accidentally used a wrong account, use <code>zeus logout</code> and try again</li>
    </ul>
  </li>
  <li>
    Open the Zepp App on your phone
  </li>
  <li>
    Go to "Profile" -> "My devices" -> (tap on your device) -> "Developer Mode"
  </li>
  <li>
    Switch to the "Mini Program" tab and tap the Plus (+) icon in the top-right corner
  </li>
  <li>
    Select the "Bridge" option and wait for it to connect
  </li>
  <li>
    Run <code>zeus bridge</code> in the project directory<br>
  </li>
  <li>
    Once it starts, type in the following commands:
    <ul>
      <li>
        <code>connect</code> (if prompted, select <code>app-Android</code>, wait for it to connect)
      </li>
      <li>
        <code>install</code> (this may take up to a couple of minutes)
      </li>
      <li>
        <code>exit</code> to exit the bridge mode
      </li>
    </ul>
  </li>
  <li>
    Follow the steps 2-5 again to disable the bridge mode in the Zepp App.<br>
    This should disconnect the watch from the bridge server.<br>
    <i>(Alternatively, you can just wait a couple of hours, the app will disconnect bridge mode automatically)</i>
  </li>
</ol>

<!-- <h2>Usage</h2>

(Optional) Select instance/Authentication: -->

<h2>Localization</h2>

Supported languages:
<ul>
  <li>English (en-US)</li>
  <li>Ukrainian (uk-UA) (device-side only)</li>
</ul>
